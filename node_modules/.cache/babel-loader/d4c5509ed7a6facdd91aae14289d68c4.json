{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect, useCallback } from \"react\";\n\nconst useFetch = (url, filter) => {\n  _s();\n\n  const [items, setItems] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const transformedItems = [];\n  const fetchItemsHandler = useCallback(async () => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const response = await fetch(url);\n\n      if (!response.ok) {\n        throw new Error(\"Something went wrong!\");\n      }\n\n      const datas = await response.json();\n      console.log(datas);\n\n      if (filter) {\n        transformedItems = datas.filter(item => {\n          return item.gender === filter; // id: data.id,\n          // title: data.title,\n          // price: data.price,\n          // description: data.description,\n          // image: data.image,\n        }); // setTransformedItems((transformedItems) => {\n        //   return [filteredItems, ...transformedItems];\n        // });\n\n        setItems(transformedItems);\n      } else {\n        transformedItems = datas.map(data => {\n          return {\n            id: data.id,\n            title: data.title,\n            price: data.price,\n            description: data.description,\n            image: data.image,\n            gender: data.gender\n          };\n        });\n      }\n\n      transformedItems = datas.map(data => {\n        return {\n          id: data.id,\n          title: data.title,\n          price: data.price,\n          description: data.description,\n          image: data.image,\n          gender: data.gender\n        };\n      });\n      setItems(transformedItems);\n      console.log(transformedItems);\n    } catch (error) {\n      setError(error.message);\n    }\n\n    setIsLoading(false);\n  }, [url]);\n  useEffect(() => {\n    fetchItemsHandler();\n  }, [fetchItemsHandler]);\n  return {\n    items,\n    error,\n    isLoading\n  };\n};\n\n_s(useFetch, \"8f+jp9KmqN+nDihoF/wAJq5qb+Q=\");\n\nexport default useFetch;","map":{"version":3,"names":["useState","useEffect","useCallback","useFetch","url","filter","items","setItems","isLoading","setIsLoading","error","setError","transformedItems","fetchItemsHandler","response","fetch","ok","Error","datas","json","console","log","item","gender","map","data","id","title","price","description","image","message"],"sources":["C:/Users/hamzu/Desktop/React/React projects/reactStore/src/hooks/use-fecth.js"],"sourcesContent":["import { useState, useEffect, useCallback } from \"react\";\r\n\r\nconst useFetch = (url, filter) => {\r\n  const [items, setItems] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const transformedItems = [];\r\n\r\n  const fetchItemsHandler = useCallback(async () => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n    try {\r\n      const response = await fetch(url);\r\n      if (!response.ok) {\r\n        throw new Error(\"Something went wrong!\");\r\n      }\r\n\r\n      const datas = await response.json();\r\n      console.log(datas);\r\n      if (filter) {\r\n        transformedItems = datas.filter((item) => {\r\n          return item.gender === filter;\r\n          // id: data.id,\r\n          // title: data.title,\r\n          // price: data.price,\r\n          // description: data.description,\r\n          // image: data.image,\r\n        });\r\n        // setTransformedItems((transformedItems) => {\r\n        //   return [filteredItems, ...transformedItems];\r\n        // });\r\n        setItems(transformedItems);\r\n      } else {\r\n        transformedItems = datas.map((data) => {\r\n          return {\r\n            id: data.id,\r\n            title: data.title,\r\n            price: data.price,\r\n            description: data.description,\r\n            image: data.image,\r\n            gender: data.gender,\r\n          };\r\n        });\r\n      }\r\n      transformedItems = datas.map((data) => {\r\n        return {\r\n          id: data.id,\r\n          title: data.title,\r\n          price: data.price,\r\n          description: data.description,\r\n          image: data.image,\r\n          gender: data.gender,\r\n        };\r\n      });\r\n      setItems(transformedItems);\r\n      console.log(transformedItems);\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n    setIsLoading(false);\r\n  }, [url]);\r\n\r\n  useEffect(() => {\r\n    fetchItemsHandler();\r\n  }, [fetchItemsHandler]);\r\n\r\n  return { items, error, isLoading };\r\n};\r\n\r\nexport default useFetch;\r\n"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,WAA9B,QAAiD,OAAjD;;AAEA,MAAMC,QAAQ,GAAG,CAACC,GAAD,EAAMC,MAAN,KAAiB;EAAA;;EAChC,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACQ,SAAD,EAAYC,YAAZ,IAA4BT,QAAQ,CAAC,KAAD,CAA1C;EACA,MAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,IAAD,CAAlC;EACA,MAAMY,gBAAgB,GAAG,EAAzB;EAEA,MAAMC,iBAAiB,GAAGX,WAAW,CAAC,YAAY;IAChDO,YAAY,CAAC,IAAD,CAAZ;IACAE,QAAQ,CAAC,IAAD,CAAR;;IACA,IAAI;MACF,MAAMG,QAAQ,GAAG,MAAMC,KAAK,CAACX,GAAD,CAA5B;;MACA,IAAI,CAACU,QAAQ,CAACE,EAAd,EAAkB;QAChB,MAAM,IAAIC,KAAJ,CAAU,uBAAV,CAAN;MACD;;MAED,MAAMC,KAAK,GAAG,MAAMJ,QAAQ,CAACK,IAAT,EAApB;MACAC,OAAO,CAACC,GAAR,CAAYH,KAAZ;;MACA,IAAIb,MAAJ,EAAY;QACVO,gBAAgB,GAAGM,KAAK,CAACb,MAAN,CAAciB,IAAD,IAAU;UACxC,OAAOA,IAAI,CAACC,MAAL,KAAgBlB,MAAvB,CADwC,CAExC;UACA;UACA;UACA;UACA;QACD,CAPkB,CAAnB,CADU,CASV;QACA;QACA;;QACAE,QAAQ,CAACK,gBAAD,CAAR;MACD,CAbD,MAaO;QACLA,gBAAgB,GAAGM,KAAK,CAACM,GAAN,CAAWC,IAAD,IAAU;UACrC,OAAO;YACLC,EAAE,EAAED,IAAI,CAACC,EADJ;YAELC,KAAK,EAAEF,IAAI,CAACE,KAFP;YAGLC,KAAK,EAAEH,IAAI,CAACG,KAHP;YAILC,WAAW,EAAEJ,IAAI,CAACI,WAJb;YAKLC,KAAK,EAAEL,IAAI,CAACK,KALP;YAMLP,MAAM,EAAEE,IAAI,CAACF;UANR,CAAP;QAQD,CATkB,CAAnB;MAUD;;MACDX,gBAAgB,GAAGM,KAAK,CAACM,GAAN,CAAWC,IAAD,IAAU;QACrC,OAAO;UACLC,EAAE,EAAED,IAAI,CAACC,EADJ;UAELC,KAAK,EAAEF,IAAI,CAACE,KAFP;UAGLC,KAAK,EAAEH,IAAI,CAACG,KAHP;UAILC,WAAW,EAAEJ,IAAI,CAACI,WAJb;UAKLC,KAAK,EAAEL,IAAI,CAACK,KALP;UAMLP,MAAM,EAAEE,IAAI,CAACF;QANR,CAAP;MAQD,CATkB,CAAnB;MAUAhB,QAAQ,CAACK,gBAAD,CAAR;MACAQ,OAAO,CAACC,GAAR,CAAYT,gBAAZ;IACD,CA7CD,CA6CE,OAAOF,KAAP,EAAc;MACdC,QAAQ,CAACD,KAAK,CAACqB,OAAP,CAAR;IACD;;IACDtB,YAAY,CAAC,KAAD,CAAZ;EACD,CApDoC,EAoDlC,CAACL,GAAD,CApDkC,CAArC;EAsDAH,SAAS,CAAC,MAAM;IACdY,iBAAiB;EAClB,CAFQ,EAEN,CAACA,iBAAD,CAFM,CAAT;EAIA,OAAO;IAAEP,KAAF;IAASI,KAAT;IAAgBF;EAAhB,CAAP;AACD,CAjED;;GAAML,Q;;AAmEN,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}