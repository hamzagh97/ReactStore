{"ast":null,"code":"const SneaksAPI = require('../controllers/sneaks.controllers.js');\n\nconst sneaks = new SneaksAPI();\n\nmodule.exports = app => {\n  app.use(function (req, res, next) {\n    res.header(\"Access-Control-Allow-Origin\", \"*\");\n    res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n    next();\n  }); //Grabs sneaker info from the database given the styleID\n\n  app.get('/id/:id', function (req, res) {\n    sneaks.findOne(req.params.id, function (error, shoe) {\n      if (error) {\n        res.send(\"Product Not Found\");\n      } else {\n        res.json(shoe);\n      }\n    });\n  }); //Grabs price maps from each site of a particular shoe\n\n  app.get('/id/:id/prices', function (req, res) {\n    sneaks.getProductPrices(req.params.id.toUpperCase(), function (error, products) {\n      if (error) {\n        console.log(error);\n        res.send(\"Product Not Found\");\n      } else {\n        res.json(products);\n      }\n    });\n  }); //grabs the most popular sneakers \n\n  app.get('/home', function (req, res) {\n    const count = req.query.count || 40; // if the user doesn't provide the query param, it defaults to 40\n\n    sneaks.getMostPopular(count, function (error, products) {\n      if (error) {\n        console.log(error);\n        res.send(\"Product Not Found\");\n      } else {\n        res.json(products);\n      }\n    });\n  }); //Grabs all sneakers given a keyword/parameter\n\n  app.get('/search/:shoe', function (req, res) {\n    const count = req.query.count || 40; // if the user doesn't provide the query param, it defaults to 40\n\n    sneaks.getProducts(req.params.shoe, count, function (error, products) {\n      if (error) {\n        console.log(error);\n        res.send(\"Product Not Found\");\n      } else {\n        res.json(products);\n      }\n    });\n  }); //Grabs all sneakers in the database\n\n  app.get('/shoes', function (req, res) {\n    sneaks.findAll(function (error, products) {\n      if (error) {\n        console.log(error);\n        res.send(\"No Products In Database\");\n      } else {\n        res.json(products);\n      }\n    });\n  }); //redirects root route to home page\n\n  app.get('/', function (req, res) {\n    res.redirect('/home');\n  });\n};","map":{"version":3,"names":["SneaksAPI","require","sneaks","module","exports","app","use","req","res","next","header","get","findOne","params","id","error","shoe","send","json","getProductPrices","toUpperCase","products","console","log","count","query","getMostPopular","getProducts","findAll","redirect"],"sources":["C:/Users/hamzu/Desktop/React/React projects/react-store/node_modules/sneaks-api/routes/sneaks.routes.js"],"sourcesContent":["const SneaksAPI = require('../controllers/sneaks.controllers.js');\nconst sneaks = new SneaksAPI();\nmodule.exports = (app) => {\n    app.use(function (req, res, next) {\n        res.header(\"Access-Control-Allow-Origin\", \"*\");\n        res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n        next();\n    });\n\n    //Grabs sneaker info from the database given the styleID\n    app.get('/id/:id', function(req, res){\n        sneaks.findOne(req.params.id, function(error, shoe){\n            if (error) {\n                res.send(\"Product Not Found\");\n              } else {\n                res.json(shoe);\n              }\n        })\n    });\n\n    //Grabs price maps from each site of a particular shoe\n    app.get('/id/:id/prices', function(req, res){\n        sneaks.getProductPrices(req.params.id.toUpperCase(), function(error, products){\n            if (error) {\n                console.log(error)\n                res.send(\"Product Not Found\");\n              } else {\n                res.json(products);\n              }\n        })\n    });\n\n    //grabs the most popular sneakers \n    app.get('/home', function(req, res){\n        const count = req.query.count || 40 // if the user doesn't provide the query param, it defaults to 40\n        sneaks.getMostPopular(count, function(error, products){\n            if (error) {\n                console.log(error)\n                res.send(\"Product Not Found\");\n              } else {\n                res.json(products);\n              }\n        })\n    });\n\n    //Grabs all sneakers given a keyword/parameter\n    app.get('/search/:shoe', function(req, res){\n        const count = req.query.count || 40 // if the user doesn't provide the query param, it defaults to 40\n        sneaks.getProducts(req.params.shoe, count, function(error, products){\n            if (error) {\n                console.log(error)\n                res.send(\"Product Not Found\");\n              } else {\n                res.json(products);\n              }\n        })\n    });\n//Grabs all sneakers in the database\n    app.get('/shoes', function(req, res){\n        sneaks.findAll( function(error, products){\n            if (error) {\n                console.log(error)\n                res.send(\"No Products In Database\");\n              } else {\n                res.json(products);\n              }\n        })\n    });\n\n    //redirects root route to home page\n    app.get('/', function (req, res) {\n        res.redirect('/home')\n    });\n\n}"],"mappings":"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"},"metadata":{},"sourceType":"script"}