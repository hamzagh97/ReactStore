{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst defer_to_connect_1 = require(\"defer-to-connect\");\n\nconst util_1 = require(\"util\");\n\nconst nodejsMajorVersion = Number(process.versions.node.split('.')[0]);\n\nconst timer = request => {\n  if (request.timings) {\n    return request.timings;\n  }\n\n  const timings = {\n    start: Date.now(),\n    socket: undefined,\n    lookup: undefined,\n    connect: undefined,\n    secureConnect: undefined,\n    upload: undefined,\n    response: undefined,\n    end: undefined,\n    error: undefined,\n    abort: undefined,\n    phases: {\n      wait: undefined,\n      dns: undefined,\n      tcp: undefined,\n      tls: undefined,\n      request: undefined,\n      firstByte: undefined,\n      download: undefined,\n      total: undefined\n    }\n  };\n  request.timings = timings;\n\n  const handleError = origin => {\n    const emit = origin.emit.bind(origin);\n\n    origin.emit = function (event) {\n      // Catches the `error` event\n      if (event === 'error') {\n        timings.error = Date.now();\n        timings.phases.total = timings.error - timings.start;\n        origin.emit = emit;\n      } // Saves the original behavior\n\n\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return emit(event, ...args);\n    };\n  };\n\n  handleError(request);\n\n  const onAbort = () => {\n    timings.abort = Date.now(); // Let the `end` response event be responsible for setting the total phase,\n    // unless the Node.js major version is >= 13.\n\n    if (!timings.response || nodejsMajorVersion >= 13) {\n      timings.phases.total = Date.now() - timings.start;\n    }\n  };\n\n  request.prependOnceListener('abort', onAbort);\n\n  const onSocket = socket => {\n    timings.socket = Date.now();\n    timings.phases.wait = timings.socket - timings.start;\n\n    if (util_1.types.isProxy(socket)) {\n      return;\n    }\n\n    const lookupListener = () => {\n      timings.lookup = Date.now();\n      timings.phases.dns = timings.lookup - timings.socket;\n    };\n\n    socket.prependOnceListener('lookup', lookupListener);\n    defer_to_connect_1.default(socket, {\n      connect: () => {\n        timings.connect = Date.now();\n\n        if (timings.lookup === undefined) {\n          socket.removeListener('lookup', lookupListener);\n          timings.lookup = timings.connect;\n          timings.phases.dns = timings.lookup - timings.socket;\n        }\n\n        timings.phases.tcp = timings.connect - timings.lookup; // This callback is called before flushing any data,\n        // so we don't need to set `timings.phases.request` here.\n      },\n      secureConnect: () => {\n        timings.secureConnect = Date.now();\n        timings.phases.tls = timings.secureConnect - timings.connect;\n      }\n    });\n  };\n\n  if (request.socket) {\n    onSocket(request.socket);\n  } else {\n    request.prependOnceListener('socket', onSocket);\n  }\n\n  const onUpload = () => {\n    var _a;\n\n    timings.upload = Date.now();\n    timings.phases.request = timings.upload - ((_a = timings.secureConnect) !== null && _a !== void 0 ? _a : timings.connect);\n  };\n\n  const writableFinished = () => {\n    if (typeof request.writableFinished === 'boolean') {\n      return request.writableFinished;\n    } // Node.js doesn't have `request.writableFinished` property\n\n\n    return request.finished && request.outputSize === 0 && (!request.socket || request.socket.writableLength === 0);\n  };\n\n  if (writableFinished()) {\n    onUpload();\n  } else {\n    request.prependOnceListener('finish', onUpload);\n  }\n\n  request.prependOnceListener('response', response => {\n    timings.response = Date.now();\n    timings.phases.firstByte = timings.response - timings.upload;\n    response.timings = timings;\n    handleError(response);\n    response.prependOnceListener('end', () => {\n      timings.end = Date.now();\n      timings.phases.download = timings.end - timings.response;\n      timings.phases.total = timings.end - timings.start;\n    });\n    response.prependOnceListener('aborted', onAbort);\n  });\n  return timings;\n};\n\nexports.default = timer; // For CommonJS default export support\n\nmodule.exports = timer;\nmodule.exports.default = timer;","map":{"version":3,"names":["Object","defineProperty","exports","value","defer_to_connect_1","require","util_1","nodejsMajorVersion","Number","process","versions","node","split","timer","request","timings","start","Date","now","socket","undefined","lookup","connect","secureConnect","upload","response","end","error","abort","phases","wait","dns","tcp","tls","firstByte","download","total","handleError","origin","emit","bind","event","args","onAbort","prependOnceListener","onSocket","types","isProxy","lookupListener","default","removeListener","onUpload","_a","writableFinished","finished","outputSize","writableLength","module"],"sources":["C:/Users/hamzu/Desktop/React/React projects/react-store/node_modules/@szmarczak/http-timer/dist/source/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst defer_to_connect_1 = require(\"defer-to-connect\");\nconst util_1 = require(\"util\");\nconst nodejsMajorVersion = Number(process.versions.node.split('.')[0]);\nconst timer = (request) => {\n    if (request.timings) {\n        return request.timings;\n    }\n    const timings = {\n        start: Date.now(),\n        socket: undefined,\n        lookup: undefined,\n        connect: undefined,\n        secureConnect: undefined,\n        upload: undefined,\n        response: undefined,\n        end: undefined,\n        error: undefined,\n        abort: undefined,\n        phases: {\n            wait: undefined,\n            dns: undefined,\n            tcp: undefined,\n            tls: undefined,\n            request: undefined,\n            firstByte: undefined,\n            download: undefined,\n            total: undefined\n        }\n    };\n    request.timings = timings;\n    const handleError = (origin) => {\n        const emit = origin.emit.bind(origin);\n        origin.emit = (event, ...args) => {\n            // Catches the `error` event\n            if (event === 'error') {\n                timings.error = Date.now();\n                timings.phases.total = timings.error - timings.start;\n                origin.emit = emit;\n            }\n            // Saves the original behavior\n            return emit(event, ...args);\n        };\n    };\n    handleError(request);\n    const onAbort = () => {\n        timings.abort = Date.now();\n        // Let the `end` response event be responsible for setting the total phase,\n        // unless the Node.js major version is >= 13.\n        if (!timings.response || nodejsMajorVersion >= 13) {\n            timings.phases.total = Date.now() - timings.start;\n        }\n    };\n    request.prependOnceListener('abort', onAbort);\n    const onSocket = (socket) => {\n        timings.socket = Date.now();\n        timings.phases.wait = timings.socket - timings.start;\n        if (util_1.types.isProxy(socket)) {\n            return;\n        }\n        const lookupListener = () => {\n            timings.lookup = Date.now();\n            timings.phases.dns = timings.lookup - timings.socket;\n        };\n        socket.prependOnceListener('lookup', lookupListener);\n        defer_to_connect_1.default(socket, {\n            connect: () => {\n                timings.connect = Date.now();\n                if (timings.lookup === undefined) {\n                    socket.removeListener('lookup', lookupListener);\n                    timings.lookup = timings.connect;\n                    timings.phases.dns = timings.lookup - timings.socket;\n                }\n                timings.phases.tcp = timings.connect - timings.lookup;\n                // This callback is called before flushing any data,\n                // so we don't need to set `timings.phases.request` here.\n            },\n            secureConnect: () => {\n                timings.secureConnect = Date.now();\n                timings.phases.tls = timings.secureConnect - timings.connect;\n            }\n        });\n    };\n    if (request.socket) {\n        onSocket(request.socket);\n    }\n    else {\n        request.prependOnceListener('socket', onSocket);\n    }\n    const onUpload = () => {\n        var _a;\n        timings.upload = Date.now();\n        timings.phases.request = timings.upload - ((_a = timings.secureConnect) !== null && _a !== void 0 ? _a : timings.connect);\n    };\n    const writableFinished = () => {\n        if (typeof request.writableFinished === 'boolean') {\n            return request.writableFinished;\n        }\n        // Node.js doesn't have `request.writableFinished` property\n        return request.finished && request.outputSize === 0 && (!request.socket || request.socket.writableLength === 0);\n    };\n    if (writableFinished()) {\n        onUpload();\n    }\n    else {\n        request.prependOnceListener('finish', onUpload);\n    }\n    request.prependOnceListener('response', (response) => {\n        timings.response = Date.now();\n        timings.phases.firstByte = timings.response - timings.upload;\n        response.timings = timings;\n        handleError(response);\n        response.prependOnceListener('end', () => {\n            timings.end = Date.now();\n            timings.phases.download = timings.end - timings.response;\n            timings.phases.total = timings.end - timings.start;\n        });\n        response.prependOnceListener('aborted', onAbort);\n    });\n    return timings;\n};\nexports.default = timer;\n// For CommonJS default export support\nmodule.exports = timer;\nmodule.exports.default = timer;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}