{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect, useCallback } from \"react\";\n\nconst useFetch = url => {\n  _s();\n\n  const [items, setItems] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const fetchItemsHandler = useCallback(async (requestConfig, applyData) => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const response = await fetch(requestConfig.url, {\n        method: requestConfig.method ? requestConfig.method : \"GET\",\n        headers: requestConfig.headers ? requestConfig.headers : {},\n        body: requestConfig.body ? JSON.stringify(requestConfig.body) : null\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Something went wrong!\");\n      }\n\n      const datas = await response.json();\n      applyData(datas);\n      const transformedItems = datas.map(data => {\n        return {\n          id: data.id,\n          title: data.title,\n          price: data.price,\n          description: data.description,\n          image: data.image,\n          gender: data.gender\n        };\n      });\n      setItems(transformedItems);\n    } catch (error) {\n      setError(error.message);\n    }\n\n    setIsLoading(false);\n  }, [url]);\n  useEffect(() => {\n    fetchItemsHandler();\n  }, [fetchItemsHandler]);\n  return {\n    items,\n    error,\n    isLoading\n  };\n};\n\n_s(useFetch, \"8f+jp9KmqN+nDihoF/wAJq5qb+Q=\");\n\nexport default useFetch;","map":{"version":3,"names":["useState","useEffect","useCallback","useFetch","url","items","setItems","isLoading","setIsLoading","error","setError","fetchItemsHandler","requestConfig","applyData","response","fetch","method","headers","body","JSON","stringify","ok","Error","datas","json","transformedItems","map","data","id","title","price","description","image","gender","message"],"sources":["C:/Users/hamzu/Desktop/React/React projects/reactStore/src/hooks/use-fecth.js"],"sourcesContent":["import { useState, useEffect, useCallback } from \"react\";\r\n\r\nconst useFetch = (url) => {\r\n  const [items, setItems] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const fetchItemsHandler = useCallback(\r\n    async (requestConfig, applyData) => {\r\n      setIsLoading(true);\r\n      setError(null);\r\n      try {\r\n        const response = await fetch(requestConfig.url, {\r\n          method: requestConfig.method ? requestConfig.method : \"GET\",\r\n          headers: requestConfig.headers ? requestConfig.headers : {},\r\n          body: requestConfig.body ? JSON.stringify(requestConfig.body) : null,\r\n        });\r\n        if (!response.ok) {\r\n          throw new Error(\"Something went wrong!\");\r\n        }\r\n\r\n        const datas = await response.json();\r\n        applyData(datas);\r\n        const transformedItems = datas.map((data) => {\r\n          return {\r\n            id: data.id,\r\n            title: data.title,\r\n            price: data.price,\r\n            description: data.description,\r\n            image: data.image,\r\n            gender: data.gender,\r\n          };\r\n        });\r\n        setItems(transformedItems);\r\n      } catch (error) {\r\n        setError(error.message);\r\n      }\r\n      setIsLoading(false);\r\n    },\r\n    [url]\r\n  );\r\n\r\n  useEffect(() => {\r\n    fetchItemsHandler();\r\n  }, [fetchItemsHandler]);\r\n\r\n  return { items, error, isLoading };\r\n};\r\n\r\nexport default useFetch;\r\n"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,WAA9B,QAAiD,OAAjD;;AAEA,MAAMC,QAAQ,GAAIC,GAAD,IAAS;EAAA;;EACxB,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACO,SAAD,EAAYC,YAAZ,IAA4BR,QAAQ,CAAC,KAAD,CAA1C;EACA,MAAM,CAACS,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC,IAAD,CAAlC;EAEA,MAAMW,iBAAiB,GAAGT,WAAW,CACnC,OAAOU,aAAP,EAAsBC,SAAtB,KAAoC;IAClCL,YAAY,CAAC,IAAD,CAAZ;IACAE,QAAQ,CAAC,IAAD,CAAR;;IACA,IAAI;MACF,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CAACH,aAAa,CAACR,GAAf,EAAoB;QAC9CY,MAAM,EAAEJ,aAAa,CAACI,MAAd,GAAuBJ,aAAa,CAACI,MAArC,GAA8C,KADR;QAE9CC,OAAO,EAAEL,aAAa,CAACK,OAAd,GAAwBL,aAAa,CAACK,OAAtC,GAAgD,EAFX;QAG9CC,IAAI,EAAEN,aAAa,CAACM,IAAd,GAAqBC,IAAI,CAACC,SAAL,CAAeR,aAAa,CAACM,IAA7B,CAArB,GAA0D;MAHlB,CAApB,CAA5B;;MAKA,IAAI,CAACJ,QAAQ,CAACO,EAAd,EAAkB;QAChB,MAAM,IAAIC,KAAJ,CAAU,uBAAV,CAAN;MACD;;MAED,MAAMC,KAAK,GAAG,MAAMT,QAAQ,CAACU,IAAT,EAApB;MACAX,SAAS,CAACU,KAAD,CAAT;MACA,MAAME,gBAAgB,GAAGF,KAAK,CAACG,GAAN,CAAWC,IAAD,IAAU;QAC3C,OAAO;UACLC,EAAE,EAAED,IAAI,CAACC,EADJ;UAELC,KAAK,EAAEF,IAAI,CAACE,KAFP;UAGLC,KAAK,EAAEH,IAAI,CAACG,KAHP;UAILC,WAAW,EAAEJ,IAAI,CAACI,WAJb;UAKLC,KAAK,EAAEL,IAAI,CAACK,KALP;UAMLC,MAAM,EAAEN,IAAI,CAACM;QANR,CAAP;MAQD,CATwB,CAAzB;MAUA3B,QAAQ,CAACmB,gBAAD,CAAR;IACD,CAvBD,CAuBE,OAAOhB,KAAP,EAAc;MACdC,QAAQ,CAACD,KAAK,CAACyB,OAAP,CAAR;IACD;;IACD1B,YAAY,CAAC,KAAD,CAAZ;EACD,CA/BkC,EAgCnC,CAACJ,GAAD,CAhCmC,CAArC;EAmCAH,SAAS,CAAC,MAAM;IACdU,iBAAiB;EAClB,CAFQ,EAEN,CAACA,iBAAD,CAFM,CAAT;EAIA,OAAO;IAAEN,KAAF;IAASI,KAAT;IAAgBF;EAAhB,CAAP;AACD,CA7CD;;GAAMJ,Q;;AA+CN,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}