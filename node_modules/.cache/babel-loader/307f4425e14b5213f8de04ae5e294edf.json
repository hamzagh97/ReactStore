{"ast":null,"code":"'use strict';\n\nconst EventEmitter = require('events');\n\nconst JSONB = require('json-buffer');\n\nconst loadStore = options => {\n  const adapters = {\n    redis: '@keyv/redis',\n    rediss: '@keyv/redis',\n    mongodb: '@keyv/mongo',\n    mongo: '@keyv/mongo',\n    sqlite: '@keyv/sqlite',\n    postgresql: '@keyv/postgres',\n    postgres: '@keyv/postgres',\n    mysql: '@keyv/mysql',\n    etcd: '@keyv/etcd',\n    offline: '@keyv/offline',\n    tiered: '@keyv/tiered'\n  };\n\n  if (options.adapter || options.uri) {\n    const adapter = options.adapter || /^[^:+]*/.exec(options.uri)[0];\n    return new (require(adapters[adapter]))(options);\n  }\n\n  return new Map();\n};\n\nconst iterableAdapters = ['sqlite', 'postgres', 'mysql', 'mongo', 'redis', 'tiered'];\n\nclass Keyv extends EventEmitter {\n  constructor(uri) {\n    let {\n      emitErrors = true,\n      ...options\n    } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    super();\n    this.opts = {\n      namespace: 'keyv',\n      serialize: JSONB.stringify,\n      deserialize: JSONB.parse,\n      ...(typeof uri === 'string' ? {\n        uri\n      } : uri),\n      ...options\n    };\n\n    if (!this.opts.store) {\n      const adapterOptions = { ...this.opts\n      };\n      this.opts.store = loadStore(adapterOptions);\n    }\n\n    if (this.opts.compression) {\n      const compression = this.opts.compression;\n      const {\n        serialize,\n        deserialize\n      } = compression.opts;\n      this.opts.serialize = serialize;\n      this.opts.deserialize = deserialize;\n    }\n\n    if (typeof this.opts.store.on === 'function' && emitErrors) {\n      this.opts.store.on('error', error => this.emit('error', error));\n    }\n\n    this.opts.store.namespace = this.opts.namespace;\n\n    const generateIterator = iterator => async function* () {\n      for await (const [key, raw] of typeof iterator === 'function' ? iterator(this.opts.store.namespace) : iterator) {\n        const data = this.opts.deserialize(raw);\n\n        if (this.opts.store.namespace && !key.includes(this.opts.store.namespace)) {\n          continue;\n        }\n\n        if (typeof data.expires === 'number' && Date.now() > data.expires) {\n          this.delete(key);\n          continue;\n        }\n\n        yield [this._getKeyUnprefix(key), data.value];\n      }\n    }; // Attach iterators\n\n\n    if (typeof this.opts.store[Symbol.iterator] === 'function' && this.opts.store instanceof Map) {\n      this.iterator = generateIterator(this.opts.store);\n    } else if (typeof this.opts.store.iterator === 'function' && this.opts.store.opts && this._checkIterableAdaptar()) {\n      this.iterator = generateIterator(this.opts.store.iterator.bind(this.opts.store));\n    }\n  }\n\n  _checkIterableAdaptar() {\n    return iterableAdapters.includes(this.opts.store.opts.dialect) || iterableAdapters.findIndex(element => this.opts.store.opts.url.includes(element)) >= 0;\n  }\n\n  _getKeyPrefix(key) {\n    return `${this.opts.namespace}:${key}`;\n  }\n\n  _getKeyPrefixArray(keys) {\n    return keys.map(key => `${this.opts.namespace}:${key}`);\n  }\n\n  _getKeyUnprefix(key) {\n    return key.split(':').splice(1).join(':');\n  }\n\n  get(key, options) {\n    const {\n      store\n    } = this.opts;\n    const isArray = Array.isArray(key);\n    const keyPrefixed = isArray ? this._getKeyPrefixArray(key) : this._getKeyPrefix(key);\n\n    if (isArray && store.getMany === undefined) {\n      const promises = [];\n\n      for (const key of keyPrefixed) {\n        promises.push(Promise.resolve().then(() => store.get(key)).then(data => typeof data === 'string' ? this.opts.deserialize(data) : data).then(data => {\n          if (data === undefined || data === null) {\n            return undefined;\n          }\n\n          if (typeof data.expires === 'number' && Date.now() > data.expires) {\n            return this.delete(key).then(() => undefined);\n          }\n\n          return options && options.raw ? data : data.value;\n        }));\n      }\n\n      return Promise.allSettled(promises).then(values => {\n        const data = [];\n\n        for (const value of values) {\n          data.push(value.value);\n        }\n\n        return data;\n      });\n    }\n\n    return Promise.resolve().then(() => isArray ? store.getMany(keyPrefixed) : store.get(keyPrefixed)).then(data => typeof data === 'string' ? this.opts.deserialize(data) : data).then(data => {\n      if (data === undefined || data === null) {\n        return undefined;\n      }\n\n      if (isArray) {\n        const result = [];\n\n        for (let row of data) {\n          if (typeof row === 'string') {\n            row = this.opts.deserialize(row);\n          }\n\n          if (row === undefined || row === null) {\n            result.push(undefined);\n            continue;\n          }\n\n          if (typeof row.expires === 'number' && Date.now() > row.expires) {\n            this.delete(key).then(() => undefined);\n            result.push(undefined);\n          } else {\n            result.push(options && options.raw ? row : row.value);\n          }\n        }\n\n        return result;\n      }\n\n      if (typeof data.expires === 'number' && Date.now() > data.expires) {\n        return this.delete(key).then(() => undefined);\n      }\n\n      return options && options.raw ? data : data.value;\n    });\n  }\n\n  set(key, value, ttl) {\n    const keyPrefixed = this._getKeyPrefix(key);\n\n    if (typeof ttl === 'undefined') {\n      ttl = this.opts.ttl;\n    }\n\n    if (ttl === 0) {\n      ttl = undefined;\n    }\n\n    const {\n      store\n    } = this.opts;\n    return Promise.resolve().then(() => {\n      const expires = typeof ttl === 'number' ? Date.now() + ttl : null;\n\n      if (typeof value === 'symbol') {\n        this.emit('error', 'symbol cannot be serialized');\n      }\n\n      value = {\n        value,\n        expires\n      };\n      return this.opts.serialize(value);\n    }).then(value => store.set(keyPrefixed, value, ttl)).then(() => true);\n  }\n\n  delete(key) {\n    const {\n      store\n    } = this.opts;\n\n    if (Array.isArray(key)) {\n      const keyPrefixed = this._getKeyPrefixArray(key);\n\n      if (store.deleteMany === undefined) {\n        const promises = [];\n\n        for (const key of keyPrefixed) {\n          promises.push(store.delete(key));\n        }\n\n        return Promise.allSettled(promises).then(values => values.every(x => x.value === true));\n      }\n\n      return Promise.resolve().then(() => store.deleteMany(keyPrefixed));\n    }\n\n    const keyPrefixed = this._getKeyPrefix(key);\n\n    return Promise.resolve().then(() => store.delete(keyPrefixed));\n  }\n\n  clear() {\n    const {\n      store\n    } = this.opts;\n    return Promise.resolve().then(() => store.clear());\n  }\n\n  has(key) {\n    const keyPrefixed = this._getKeyPrefix(key);\n\n    const {\n      store\n    } = this.opts;\n    return Promise.resolve().then(async () => {\n      if (typeof store.has === 'function') {\n        return store.has(keyPrefixed);\n      }\n\n      const value = await store.get(keyPrefixed);\n      return value !== undefined;\n    });\n  }\n\n  disconnect() {\n    const {\n      store\n    } = this.opts;\n\n    if (typeof store.disconnect === 'function') {\n      return store.disconnect();\n    }\n  }\n\n}\n\nmodule.exports = Keyv;","map":{"version":3,"names":["EventEmitter","require","JSONB","loadStore","options","adapters","redis","rediss","mongodb","mongo","sqlite","postgresql","postgres","mysql","etcd","offline","tiered","adapter","uri","exec","Map","iterableAdapters","Keyv","constructor","emitErrors","opts","namespace","serialize","stringify","deserialize","parse","store","adapterOptions","compression","on","error","emit","generateIterator","iterator","key","raw","data","includes","expires","Date","now","delete","_getKeyUnprefix","value","Symbol","_checkIterableAdaptar","bind","dialect","findIndex","element","url","_getKeyPrefix","_getKeyPrefixArray","keys","map","split","splice","join","get","isArray","Array","keyPrefixed","getMany","undefined","promises","push","Promise","resolve","then","allSettled","values","result","row","set","ttl","deleteMany","every","x","clear","has","disconnect","module","exports"],"sources":["C:/Users/hamzu/Desktop/React/React projects/react-store/node_modules/keyv/src/index.js"],"sourcesContent":["'use strict';\n\nconst EventEmitter = require('events');\nconst JSONB = require('json-buffer');\n\nconst loadStore = options => {\n\tconst adapters = {\n\t\tredis: '@keyv/redis',\n\t\trediss: '@keyv/redis',\n\t\tmongodb: '@keyv/mongo',\n\t\tmongo: '@keyv/mongo',\n\t\tsqlite: '@keyv/sqlite',\n\t\tpostgresql: '@keyv/postgres',\n\t\tpostgres: '@keyv/postgres',\n\t\tmysql: '@keyv/mysql',\n\t\tetcd: '@keyv/etcd',\n\t\toffline: '@keyv/offline',\n\t\ttiered: '@keyv/tiered',\n\t};\n\tif (options.adapter || options.uri) {\n\t\tconst adapter = options.adapter || /^[^:+]*/.exec(options.uri)[0];\n\t\treturn new (require(adapters[adapter]))(options);\n\t}\n\n\treturn new Map();\n};\n\nconst iterableAdapters = [\n\t'sqlite',\n\t'postgres',\n\t'mysql',\n\t'mongo',\n\t'redis',\n\t'tiered',\n];\n\nclass Keyv extends EventEmitter {\n\tconstructor(uri, {emitErrors = true, ...options} = {}) {\n\t\tsuper();\n\t\tthis.opts = {\n\t\t\tnamespace: 'keyv',\n\t\t\tserialize: JSONB.stringify,\n\t\t\tdeserialize: JSONB.parse,\n\t\t\t...((typeof uri === 'string') ? {uri} : uri),\n\t\t\t...options,\n\t\t};\n\n\t\tif (!this.opts.store) {\n\t\t\tconst adapterOptions = {...this.opts};\n\t\t\tthis.opts.store = loadStore(adapterOptions);\n\t\t}\n\n\t\tif (this.opts.compression) {\n\t\t\tconst compression = this.opts.compression;\n\t\t\tconst {serialize, deserialize} = compression.opts;\n\t\t\tthis.opts.serialize = serialize;\n\t\t\tthis.opts.deserialize = deserialize;\n\t\t}\n\n\t\tif (typeof this.opts.store.on === 'function' && emitErrors) {\n\t\t\tthis.opts.store.on('error', error => this.emit('error', error));\n\t\t}\n\n\t\tthis.opts.store.namespace = this.opts.namespace;\n\n\t\tconst generateIterator = iterator => async function * () {\n\t\t\tfor await (const [key, raw] of typeof iterator === 'function'\n\t\t\t\t? iterator(this.opts.store.namespace)\n\t\t\t\t: iterator) {\n\t\t\t\tconst data = this.opts.deserialize(raw);\n\t\t\t\tif (this.opts.store.namespace && !key.includes(this.opts.store.namespace)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (typeof data.expires === 'number' && Date.now() > data.expires) {\n\t\t\t\t\tthis.delete(key);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tyield [this._getKeyUnprefix(key), data.value];\n\t\t\t}\n\t\t};\n\n\t\t// Attach iterators\n\t\tif (typeof this.opts.store[Symbol.iterator] === 'function' && this.opts.store instanceof Map) {\n\t\t\tthis.iterator = generateIterator(this.opts.store);\n\t\t} else if (typeof this.opts.store.iterator === 'function' && this.opts.store.opts\n\t\t\t&& this._checkIterableAdaptar()) {\n\t\t\tthis.iterator = generateIterator(this.opts.store.iterator.bind(this.opts.store));\n\t\t}\n\t}\n\n\t_checkIterableAdaptar() {\n\t\treturn iterableAdapters.includes(this.opts.store.opts.dialect)\n\t\t\t|| iterableAdapters.findIndex(element => this.opts.store.opts.url.includes(element)) >= 0;\n\t}\n\n\t_getKeyPrefix(key) {\n\t\treturn `${this.opts.namespace}:${key}`;\n\t}\n\n\t_getKeyPrefixArray(keys) {\n\t\treturn keys.map(key => `${this.opts.namespace}:${key}`);\n\t}\n\n\t_getKeyUnprefix(key) {\n\t\treturn key\n\t\t\t.split(':')\n\t\t\t.splice(1)\n\t\t\t.join(':');\n\t}\n\n\tget(key, options) {\n\t\tconst {store} = this.opts;\n\t\tconst isArray = Array.isArray(key);\n\t\tconst keyPrefixed = isArray ? this._getKeyPrefixArray(key) : this._getKeyPrefix(key);\n\t\tif (isArray && store.getMany === undefined) {\n\t\t\tconst promises = [];\n\t\t\tfor (const key of keyPrefixed) {\n\t\t\t\tpromises.push(Promise.resolve()\n\t\t\t\t\t.then(() => store.get(key))\n\t\t\t\t\t.then(data => (typeof data === 'string') ? this.opts.deserialize(data) : data)\n\t\t\t\t\t.then(data => {\n\t\t\t\t\t\tif (data === undefined || data === null) {\n\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof data.expires === 'number' && Date.now() > data.expires) {\n\t\t\t\t\t\t\treturn this.delete(key).then(() => undefined);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn (options && options.raw) ? data : data.value;\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn Promise.allSettled(promises)\n\t\t\t\t.then(values => {\n\t\t\t\t\tconst data = [];\n\t\t\t\t\tfor (const value of values) {\n\t\t\t\t\t\tdata.push(value.value);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn data;\n\t\t\t\t});\n\t\t}\n\n\t\treturn Promise.resolve()\n\t\t\t.then(() => isArray ? store.getMany(keyPrefixed) : store.get(keyPrefixed))\n\t\t\t.then(data => (typeof data === 'string') ? this.opts.deserialize(data) : data)\n\t\t\t.then(data => {\n\t\t\t\tif (data === undefined || data === null) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\tif (isArray) {\n\t\t\t\t\tconst result = [];\n\n\t\t\t\t\tfor (let row of data) {\n\t\t\t\t\t\tif ((typeof row === 'string')) {\n\t\t\t\t\t\t\trow = this.opts.deserialize(row);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (row === undefined || row === null) {\n\t\t\t\t\t\t\tresult.push(undefined);\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof row.expires === 'number' && Date.now() > row.expires) {\n\t\t\t\t\t\t\tthis.delete(key).then(() => undefined);\n\t\t\t\t\t\t\tresult.push(undefined);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.push((options && options.raw) ? row : row.value);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (typeof data.expires === 'number' && Date.now() > data.expires) {\n\t\t\t\t\treturn this.delete(key).then(() => undefined);\n\t\t\t\t}\n\n\t\t\t\treturn (options && options.raw) ? data : data.value;\n\t\t\t});\n\t}\n\n\tset(key, value, ttl) {\n\t\tconst keyPrefixed = this._getKeyPrefix(key);\n\t\tif (typeof ttl === 'undefined') {\n\t\t\tttl = this.opts.ttl;\n\t\t}\n\n\t\tif (ttl === 0) {\n\t\t\tttl = undefined;\n\t\t}\n\n\t\tconst {store} = this.opts;\n\n\t\treturn Promise.resolve()\n\t\t\t.then(() => {\n\t\t\t\tconst expires = (typeof ttl === 'number') ? (Date.now() + ttl) : null;\n\t\t\t\tif (typeof value === 'symbol') {\n\t\t\t\t\tthis.emit('error', 'symbol cannot be serialized');\n\t\t\t\t}\n\n\t\t\t\tvalue = {value, expires};\n\t\t\t\treturn this.opts.serialize(value);\n\t\t\t})\n\t\t\t.then(value => store.set(keyPrefixed, value, ttl))\n\t\t\t.then(() => true);\n\t}\n\n\tdelete(key) {\n\t\tconst {store} = this.opts;\n\t\tif (Array.isArray(key)) {\n\t\t\tconst keyPrefixed = this._getKeyPrefixArray(key);\n\t\t\tif (store.deleteMany === undefined) {\n\t\t\t\tconst promises = [];\n\t\t\t\tfor (const key of keyPrefixed) {\n\t\t\t\t\tpromises.push(store.delete(key));\n\t\t\t\t}\n\n\t\t\t\treturn Promise.allSettled(promises)\n\t\t\t\t\t.then(values => values.every(x => x.value === true));\n\t\t\t}\n\n\t\t\treturn Promise.resolve()\n\t\t\t\t.then(() => store.deleteMany(keyPrefixed));\n\t\t}\n\n\t\tconst keyPrefixed = this._getKeyPrefix(key);\n\t\treturn Promise.resolve()\n\t\t\t.then(() => store.delete(keyPrefixed));\n\t}\n\n\tclear() {\n\t\tconst {store} = this.opts;\n\t\treturn Promise.resolve()\n\t\t\t.then(() => store.clear());\n\t}\n\n\thas(key) {\n\t\tconst keyPrefixed = this._getKeyPrefix(key);\n\t\tconst {store} = this.opts;\n\t\treturn Promise.resolve()\n\t\t\t.then(async () => {\n\t\t\t\tif (typeof store.has === 'function') {\n\t\t\t\t\treturn store.has(keyPrefixed);\n\t\t\t\t}\n\n\t\t\t\tconst value = await store.get(keyPrefixed);\n\t\t\t\treturn value !== undefined;\n\t\t\t});\n\t}\n\n\tdisconnect() {\n\t\tconst {store} = this.opts;\n\t\tif (typeof store.disconnect === 'function') {\n\t\t\treturn store.disconnect();\n\t\t}\n\t}\n}\n\nmodule.exports = Keyv;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}